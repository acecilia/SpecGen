# SpecGen
SpecGen is a command line tool written in Swift that generates `.podspec` files from frameworks, with the goal of consumming them in a [CocoaPods](https://github.com/CocoaPods/CocoaPods) setup.

* ðŸ‘Œ Generates `.podspec` files from `.framework` files
* ðŸ‘Œ[Carthage](https://github.com/Carthage/Carthage) compatibility, so the generated `.podspec` files contain the version specified in the `Carfile.resolved` (effectively delegating to Carthage the dependency resolution)
* ðŸ˜‚ Massively reduce build times by substituting source code pods with their `.framework`
* ðŸ‘Œ Improve Xcode speed and responsiveness by substituting source code pods with their `.framework`
* ðŸ’¥ Use CocoaPods and Carthage together, allowing pods to depend on frameworks installed by Carthage

## Installing

### [Mint](https://github.com/yonaskolb/mint)

```sh
mint install acecilia/specgen
```

### Make

```sh
git clone https://github.com/acecilia/specgen.git
cd SpecGen
make
```

## Usage (with Carthage)

1. Tell SpecGen which `.podspec` files to generate by customizing your `Cartfile`:
	
	```text
	github "SwiftKickMobile/SwiftMessages" == 5.0.1
	
	# specgen:start
	github "hackiftekhar/IQKeyboardManager" == 6.2 # specgen:frameworks IQKeyboardManager IQKeyboardManagerSwift
	github "madebybowtie/FlagKit" == 2.2
	```

2. Generate the `.podspec` files:

	```sh
	specgen bootstrap
	```

3. Integrate the `.podspec` files in your Podfile:

  ```ruby
  load '<path_to_frameworks>/Podfile' # <==============
  target 'MyApp' do
      autogenerated_pods # <==============
      pod 'Alamofire', '~> 3.0'
  end
  ```

## Advanced usage

### Generate `.podspec` files

If you are using Carthage (by default `specgen` looks for the frameworks under `Carthage/Build/iOS`), simply run:

```sh
specgen bootstrap
```

If not, you have to specify the path containing the frameworks:

```sh
specgen bootstrap --frameworksPath <path_to_frameworks>
```

This will generate the necessary `.podspec` files next to the frameworks.

To see all the possible options, run:

```sh
specgen --help
```

### Integrate the `.podspec` files in your Podfile

You have two options:

* Using the autogenerated `Podfile`:

  ```ruby
  load '<path_to_frameworks>/Podfile' # <==============
  target 'MyApp' do
      autogenerated_pods # <==============
      pod 'Alamofire', '~> 3.0'
  end
  ```

* Not using the autogenerated `Podfile`: point each pod to the local path containing the `.podspec` file:

  ```ruby
  target 'MyApp' do
      pod 'FlagKit', :path => '<path_to_frameworks>'
      pod 'IQKeyboardManager', :path => '<path_to_frameworks>'
      pod 'IQKeyboardManagerSwift', :path => '<path_to_frameworks>'
      pod 'NVActivityIndicatorView', :path => '<path_to_frameworks>'
      pod 'NVActivityIndicatorViewAppExtension', :path => '<path_to_frameworks>'
      pod 'Result', :path => '<path_to_frameworks>'
      pod 'SideMenu', :path => '<path_to_frameworks>'
      pod 'SnapKit', :path => '<path_to_frameworks>'
      pod 'SwiftMessages', :path => '<path_to_frameworks>'
      pod 'Alamofire', '~> 3.0'
  end
  ```

### Use a Cartfile to customize which `.podspec` files to generate:

it is possible to add comments to a `Cartfile` in order to specify which of the frameworks requires a `.podspec`. Take the following `Cartfile` as an example:

```text
github "SwiftKickMobile/SwiftMessages" == 5.0.1

# specgen:start
github "hackiftekhar/IQKeyboardManager" == 6.2 # specgen:frameworks IQKeyboardManager IQKeyboardManagerSwift
github "madebybowtie/FlagKit" == 2.2
```

SpecGen will generate `.podspec` files for three frameworks:

* `IQKeyboardManager`, with version `6.2`
* `IQKeyboardManagerSwift`, with version `6.2`
* `FlagKit`, with version `2.2`

This allows to add some frameworks in your project by following the [official Carthage method](https://github.com/Carthage/Carthage#adding-frameworks-to-an-application), and some others through CocoaPods, using the `.podspec` files generated by SpecGen.


